---
layout:     post
categories: 电子与控制项目整理
title:      目标自动追踪系统设计
date:       2023-08-06
---

# 运动目标控制与自动追踪系统

来源于 2023 年电子设计竞赛。

## 题目

### 任务

设计制作一个运动目标控制与自动追踪系统。系统包括模拟目标运动的红色光斑位置控制系统和指示自动追踪的绿色光斑位置控制系统。系统结构示意及摆放位置见图 1（a）。图中两个激光笔固定在各自独立的二维电控云台上。


红色激光笔发射的光斑用来模拟运动目标，光斑落在正前方距离 1m 处的白色屏幕上，光斑直径≤1cm。红色光斑位置控制系统控制光斑能在屏幕范围内任意移动。


绿色激光笔发射的光斑由绿色光斑位置系统控制，用于自动追踪屏幕上的红色光斑，指示目标的自动追踪效果，光斑直径≤1cm。绿色激光笔放置线段如图 1（b）所示，该线段与屏幕平行，位于红色激光笔两侧，距红色激光笔距离大于 0.4m、小于 1m。绿色激光笔在两个放置线段上任意放置。

屏幕为白色，有效面积大于 0.6╳0.6m2。用铅笔在屏幕中心画出一个边长0.5m 的正方形，标识屏幕的边线；所画的正方形的中心为原点，用铅笔画出原点位置，所用铅笔痕迹宽≤1mm。


## 总体方案设计

按照题目的思路，基础题的铅笔线肯定不是用来做图像识别的，再加上第三题的要求，可以判断基础题根据几何参数做坐标变换解算出云台转角做控制的，只有第 4 题用到了视觉识别黑框。

跟踪系统识别激光点做一个位置的闭环控制即可。


## 控制系统仿真

### 运动目标控制系统仿真

一些符号说明
- 相机坐标系 $$ \{ C \} $$
- 屏幕坐标系 $$ \{ T \} $$
- 云台坐标系 $$ \{ B \} $$

运动目标控制的思路：像素坐标转换到屏幕坐标系，然后再由屏幕坐标系转换到云台坐标系，计算出屏幕上的点对应的云台转角，这样就可以控制激光点去任意一个目标点了。

相机使用无畸变镜头，平行于屏幕安装，相机拍的的图像点到屏幕坐标变换通过做实验获得。屏幕坐标系上的目标点坐标为

$$
^T P = \left [
\begin{array}{}
    x \\
    y \\
    0 \\
\end{array}
\right ]
$$

我们需要获得 $$ ^T P $$ 在坐标系 $$ \{ B \} $$ 的坐标值，表达式为 $$ ^B P = \ ^B_T T  \ ^T P $$ ，即求矩阵 $$ \ ^B_T T $$。此变换仅为平移变换，因此可以很容易的写出来，

$$
\ ^B_T T = \left [
\begin{array}{ccc:c}
    1 & 0 & 0 & 0 \\
    0 & 1 & 0 & H_1 + H_2  -h_1 \\
    0 & 0 & 1 & -d \\ \hdashline
    0 & 0 & 0 & 1 \\
\end{array}
\right ]
$$


### 跟踪控制系统仿真

一种思路是基于坐标变换硬算，这个思路需要控制系统和跟踪系统配合，题目不允许两个系统有通信，因此使用反馈控制的思路来做。

对于位置控制，需要两个单独的控制器，可以直接将像素位置误差作为输入，输出作为云台的速度



## 






